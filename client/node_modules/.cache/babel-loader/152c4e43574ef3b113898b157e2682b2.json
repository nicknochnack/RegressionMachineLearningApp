{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nimport React, { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { settings } from 'carbon-components';\nimport { keys, matches } from '../../internal/keyboard';\nimport uniqueId from '../../tools/uniqueId';\nvar prefix = settings.prefix;\n\nfunction FileUploaderDropContainer(_ref) {\n  var _classNames2;\n\n  var accept = _ref.accept,\n      className = _ref.className,\n      id = _ref.id,\n      disabled = _ref.disabled,\n      labelText = _ref.labelText,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      onAddFiles = _ref.onAddFiles,\n      role = _ref.role,\n      tabIndex = _ref.tabIndex,\n      rest = _objectWithoutProperties(_ref, [\"accept\", \"className\", \"id\", \"disabled\", \"labelText\", \"multiple\", \"name\", \"onAddFiles\", \"role\", \"tabIndex\"]);\n\n  var inputRef = useRef(null);\n\n  var _useRef = useRef(id || uniqueId()),\n      uid = _useRef.current;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isActive = _useState2[0],\n      setActive = _useState2[1];\n\n  var labelClasses = classNames(\"\".concat(prefix, \"--file-browse-btn\"), _defineProperty({}, \"\".concat(prefix, \"--file-browse-btn--disabled\"), disabled));\n  var dropareaClasses = classNames(\"\".concat(prefix, \"--file__drop-container\"), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefix, \"--file__drop-container--drag-over\"), isActive), _defineProperty(_classNames2, className, className), _classNames2));\n  /**\n   * Filters the array of added files based on file type restrictions\n   * @param {Event} event - Event object, used to get the list of files added\n   */\n\n  function validateFiles(event) {\n    if (event.type === 'drop') {\n      var transferredFiles = _toConsumableArray(event.dataTransfer.files);\n\n      if (!accept.length) {\n        return transferredFiles;\n      }\n\n      var acceptedTypes = new Set(accept);\n      return transferredFiles.filter(function (_ref2) {\n        var name = _ref2.name,\n            _ref2$type = _ref2.type,\n            mimeType = _ref2$type === void 0 ? '' : _ref2$type;\n        var fileExtensionRegExp = new RegExp(/\\.[0-9a-z]+$/, 'i');\n        var hasFileExtension = fileExtensionRegExp.test(name);\n\n        if (!hasFileExtension) {\n          return false;\n        }\n\n        var _name$match = name.match(fileExtensionRegExp),\n            _name$match2 = _slicedToArray(_name$match, 1),\n            fileExtension = _name$match2[0];\n\n        return acceptedTypes.has(mimeType) || acceptedTypes.has(fileExtension);\n      });\n    }\n\n    return _toConsumableArray(event.target.files);\n  }\n\n  function handleChange(event) {\n    var addedFiles = validateFiles(event);\n    return onAddFiles(event, {\n      addedFiles: addedFiles\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--file\"),\n    onDragOver: function onDragOver(evt) {\n      evt.stopPropagation();\n      evt.preventDefault();\n\n      if (disabled) {\n        return;\n      }\n\n      setActive(true);\n      evt.dataTransfer.dropEffect = 'copy';\n    },\n    onDragLeave: function onDragLeave(evt) {\n      evt.stopPropagation();\n      evt.preventDefault();\n\n      if (disabled) {\n        return;\n      }\n\n      setActive(false);\n      evt.dataTransfer.dropEffect = 'move';\n    },\n    onDrop: function onDrop(evt) {\n      evt.stopPropagation();\n      evt.preventDefault();\n\n      if (disabled) {\n        return;\n      }\n\n      setActive(false);\n      handleChange(evt);\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", _extends({\n    className: labelClasses,\n    htmlFor: uid,\n    tabIndex: tabIndex || 0,\n    onKeyDown: function onKeyDown(evt) {\n      if (matches(evt, [keys.Enter, keys.Space])) {\n        inputRef.current.click();\n      }\n    }\n  }, rest), /*#__PURE__*/React.createElement(\"div\", {\n    className: dropareaClasses,\n    role: role || 'button'\n  }, labelText, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: uid,\n    className: \"\".concat(prefix, \"--file-input\"),\n    ref: inputRef,\n    tabIndex: \"-1\",\n    disabled: disabled,\n    accept: accept,\n    name: name,\n    multiple: multiple,\n    onChange: handleChange,\n    onClick: function onClick(evt) {\n      evt.target.value = null;\n    }\n  }))));\n}\n\nFileUploaderDropContainer.propTypes = {\n  /**\n   * Provide a custom className to be applied to the container node\n   */\n  className: PropTypes.string,\n\n  /**\n   * Provide a unique id for the underlying <input> node\n   */\n  id: PropTypes.string,\n\n  /**\n   * Provide the label text to be read by screen readers when interacting with\n   * this control\n   */\n  labelText: PropTypes.string.isRequired,\n\n  /**\n   * Specify if the component should accept multiple files to upload\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * Provide a name for the underlying <input> node\n   */\n  name: PropTypes.string,\n\n  /**\n   * Provide an accessibility role for the <FileUploaderButton>\n   */\n  role: PropTypes.string,\n\n  /**\n   * Provide a custom tabIndex value for the <FileUploaderButton>\n   */\n  tabIndex: PropTypes.number,\n\n  /**\n   * Specify whether file input is disabled\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Specify the types of files that this input should be able to receive\n   */\n  accept: PropTypes.arrayOf(PropTypes.string),\n\n  /**\n   * Event handler that is called after files are added to the uploader\n   * The event handler signature looks like `onAddFiles(evt, { addedFiles })`\n   */\n  onAddFiles: PropTypes.func,\n\n  /**\n   * Specify the size of the uploaded items, from a list of available\n   * sizes. For `default` size, this prop can remain unspecified.\n   */\n  size: PropTypes.oneOf(['default', 'field', 'small'])\n};\nFileUploaderDropContainer.defaultProps = {\n  tabIndex: 0,\n  labelText: 'Add file',\n  multiple: false,\n  onAddFiles: function onAddFiles() {},\n  accept: []\n};\nexport default FileUploaderDropContainer;","map":{"version":3,"sources":["/Users/nicholasrenotte/Desktop/Regression/app/client/node_modules/carbon-components-react/es/components/FileUploader/FileUploaderDropContainer.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Array","from","isArray","_arrayLikeToArray","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","toString","slice","constructor","name","test","len","arr2","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","err","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","React","useRef","useState","PropTypes","classNames","settings","matches","uniqueId","prefix","FileUploaderDropContainer","_ref","_classNames2","accept","className","id","disabled","labelText","multiple","onAddFiles","role","tabIndex","rest","inputRef","_useRef","uid","current","_useState","_useState2","isActive","setActive","labelClasses","concat","dropareaClasses","validateFiles","event","type","transferredFiles","dataTransfer","files","acceptedTypes","Set","filter","_ref2","_ref2$type","mimeType","fileExtensionRegExp","RegExp","hasFileExtension","_name$match","match","_name$match2","fileExtension","has","handleChange","addedFiles","createElement","onDragOver","evt","stopPropagation","preventDefault","dropEffect","onDragLeave","onDrop","htmlFor","onKeyDown","Enter","Space","click","ref","onChange","onClick","propTypes","string","isRequired","bool","number","arrayOf","func","size","oneOf","defaultProps"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { settings } from 'carbon-components';\nimport { keys, matches } from '../../internal/keyboard';\nimport uniqueId from '../../tools/uniqueId';\nvar prefix = settings.prefix;\n\nfunction FileUploaderDropContainer(_ref) {\n  var _classNames2;\n\n  var accept = _ref.accept,\n      className = _ref.className,\n      id = _ref.id,\n      disabled = _ref.disabled,\n      labelText = _ref.labelText,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      onAddFiles = _ref.onAddFiles,\n      role = _ref.role,\n      tabIndex = _ref.tabIndex,\n      rest = _objectWithoutProperties(_ref, [\"accept\", \"className\", \"id\", \"disabled\", \"labelText\", \"multiple\", \"name\", \"onAddFiles\", \"role\", \"tabIndex\"]);\n\n  var inputRef = useRef(null);\n\n  var _useRef = useRef(id || uniqueId()),\n      uid = _useRef.current;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isActive = _useState2[0],\n      setActive = _useState2[1];\n\n  var labelClasses = classNames(\"\".concat(prefix, \"--file-browse-btn\"), _defineProperty({}, \"\".concat(prefix, \"--file-browse-btn--disabled\"), disabled));\n  var dropareaClasses = classNames(\"\".concat(prefix, \"--file__drop-container\"), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefix, \"--file__drop-container--drag-over\"), isActive), _defineProperty(_classNames2, className, className), _classNames2));\n  /**\n   * Filters the array of added files based on file type restrictions\n   * @param {Event} event - Event object, used to get the list of files added\n   */\n\n  function validateFiles(event) {\n    if (event.type === 'drop') {\n      var transferredFiles = _toConsumableArray(event.dataTransfer.files);\n\n      if (!accept.length) {\n        return transferredFiles;\n      }\n\n      var acceptedTypes = new Set(accept);\n      return transferredFiles.filter(function (_ref2) {\n        var name = _ref2.name,\n            _ref2$type = _ref2.type,\n            mimeType = _ref2$type === void 0 ? '' : _ref2$type;\n        var fileExtensionRegExp = new RegExp(/\\.[0-9a-z]+$/, 'i');\n        var hasFileExtension = fileExtensionRegExp.test(name);\n\n        if (!hasFileExtension) {\n          return false;\n        }\n\n        var _name$match = name.match(fileExtensionRegExp),\n            _name$match2 = _slicedToArray(_name$match, 1),\n            fileExtension = _name$match2[0];\n\n        return acceptedTypes.has(mimeType) || acceptedTypes.has(fileExtension);\n      });\n    }\n\n    return _toConsumableArray(event.target.files);\n  }\n\n  function handleChange(event) {\n    var addedFiles = validateFiles(event);\n    return onAddFiles(event, {\n      addedFiles: addedFiles\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefix, \"--file\"),\n    onDragOver: function onDragOver(evt) {\n      evt.stopPropagation();\n      evt.preventDefault();\n\n      if (disabled) {\n        return;\n      }\n\n      setActive(true);\n      evt.dataTransfer.dropEffect = 'copy';\n    },\n    onDragLeave: function onDragLeave(evt) {\n      evt.stopPropagation();\n      evt.preventDefault();\n\n      if (disabled) {\n        return;\n      }\n\n      setActive(false);\n      evt.dataTransfer.dropEffect = 'move';\n    },\n    onDrop: function onDrop(evt) {\n      evt.stopPropagation();\n      evt.preventDefault();\n\n      if (disabled) {\n        return;\n      }\n\n      setActive(false);\n      handleChange(evt);\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", _extends({\n    className: labelClasses,\n    htmlFor: uid,\n    tabIndex: tabIndex || 0,\n    onKeyDown: function onKeyDown(evt) {\n      if (matches(evt, [keys.Enter, keys.Space])) {\n        inputRef.current.click();\n      }\n    }\n  }, rest), /*#__PURE__*/React.createElement(\"div\", {\n    className: dropareaClasses,\n    role: role || 'button'\n  }, labelText, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: uid,\n    className: \"\".concat(prefix, \"--file-input\"),\n    ref: inputRef,\n    tabIndex: \"-1\",\n    disabled: disabled,\n    accept: accept,\n    name: name,\n    multiple: multiple,\n    onChange: handleChange,\n    onClick: function onClick(evt) {\n      evt.target.value = null;\n    }\n  }))));\n}\n\nFileUploaderDropContainer.propTypes = {\n  /**\n   * Provide a custom className to be applied to the container node\n   */\n  className: PropTypes.string,\n\n  /**\n   * Provide a unique id for the underlying <input> node\n   */\n  id: PropTypes.string,\n\n  /**\n   * Provide the label text to be read by screen readers when interacting with\n   * this control\n   */\n  labelText: PropTypes.string.isRequired,\n\n  /**\n   * Specify if the component should accept multiple files to upload\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * Provide a name for the underlying <input> node\n   */\n  name: PropTypes.string,\n\n  /**\n   * Provide an accessibility role for the <FileUploaderButton>\n   */\n  role: PropTypes.string,\n\n  /**\n   * Provide a custom tabIndex value for the <FileUploaderButton>\n   */\n  tabIndex: PropTypes.number,\n\n  /**\n   * Specify whether file input is disabled\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Specify the types of files that this input should be able to receive\n   */\n  accept: PropTypes.arrayOf(PropTypes.string),\n\n  /**\n   * Event handler that is called after files are added to the uploader\n   * The event handler signature looks like `onAddFiles(evt, { addedFiles })`\n   */\n  onAddFiles: PropTypes.func,\n\n  /**\n   * Specify the size of the uploaded items, from a list of available\n   * sizes. For `default` size, this prop can remain unspecified.\n   */\n  size: PropTypes.oneOf(['default', 'field', 'small'])\n};\nFileUploaderDropContainer.defaultProps = {\n  tabIndex: 0,\n  labelText: 'Add file',\n  multiple: false,\n  onAddFiles: function onAddFiles() {},\n  accept: []\n};\nexport default FileUploaderDropContainer;"]},"metadata":{},"sourceType":"module"}